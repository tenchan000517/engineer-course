# Antigravity講座 引き継ぎ資料

**作成日**: 2025-12-02
**作成済み**: antigravity-01-setup.md（セットアップ編）

---

## 次に作成すべき講座

### antigravity-02: 基本操作と設定

以下の内容を講座化する：

---

## 1. Chrome拡張機能の設定（重要）

### Antigravityの最大の利点
**エージェントがブラウザを直接操作できる**

従来のAIツールはコードを書くだけだが、Antigravityは：
- 実際にWebサイトにアクセス
- クリック、スクロール、入力操作
- スクリーンショット撮影
- 動作検証まで自動実行

### Chrome拡張機能のインストール
- Antigravity専用のChromium拡張機能が必要
- エージェントがブラウザを制御するために使用
- 設定方法の詳細は公式ドキュメント参照

### Browser統合の3つのサーフェス
1. **Agent Manager**: エージェントの管理ダッシュボード
2. **Editor**: VS Codeベースのコードエディタ
3. **Browser**: エージェントが操作する専用ブラウザ

---

## 2. Agent Managerの詳細設定

### ターミナル実行ポリシー
| 設定 | 動作 |
|------|------|
| Off | 明示的に許可した場合のみ実行 |
| Auto | エージェントが判断して実行 |
| Turbo | 明示的に拒否しない限り実行 |

### レビューポリシー
- 常時確認
- エージェント判断
- 要求時のみ

### JavaScript実行ポリシー
- ブラウザ内でのJS実行制御

---

## 3. ワークフローとルール

### Rules（カスタムルール）
- エージェントの動作を統制するルールを設定
- プロジェクト固有の制約を定義

### Workflows（保存済みプロンプト）
- よく使うプロンプトを保存
- 再利用可能なタスクテンプレート

---

## 4. 主要ユースケース（講座ネタ）

### 4.1 Webアプリケーション開発
```
例: 「Next.jsとTailwind CSSでポートフォリオサイトを作成して」
```
- エージェントが計画→コード作成→テスト→ブラウザ検証まで自動実行

### 4.2 ユニットテスト自動生成
- 既存コードのテストケース生成
- Mock実装の自動作成
- テスト実行と結果確認

### 4.3 Web自動化・スクレイピング
```
例: 「Google Newsから最新記事を10件抽出して」
```
- ブラウザ操作を伴うタスク
- データ抽出と整形

### 4.4 ゲーム・アプリ開発
```
例: 「Pygameでスネークゲームを作成」
```
- 複数ファイルの生成
- 依存関係の管理

### 4.5 並列バグ修正
- 5つのバグを5つのエージェントで同時処理
- スループット向上

### 4.6 財務ダッシュボード
- ポートフォリオ表示
- 資産配分分析
- リスク評価機能

---

## 5. Artifactsシステム

エージェントが生成する成果物：
- タスクリスト
- 実装計画
- スクリーンショット
- ブラウザ録画
- コード差分
- テスト結果

### 特徴
- 作業履歴を可視化
- フィードバックを直接Artifactに記入可能
- エージェントが実行を止めずにフィードバックを反映

---

## 6. マルチエージェント機能

### 並列実行
- 複数エージェントが同時に異なるタスクを処理
- 開発速度を3倍に加速（公式発表）

### 例
- Agent 1: コード作成
- Agent 2: テスト作成
- Agent 3: ドキュメント作成

---

## 7. MCP（Model Context Protocol）統合

### 機能
- データベースやクラウドサービスへの直接アクセス
- スキーマ手動入力の手間を削減
- 外部ツールとの連携

---

## 8. セキュリティ注意点（重要）

### 報告されている脆弱性

| リスク | 詳細 |
|--------|------|
| バックドア攻撃 | 悪意あるリポジトリを開くとシステムが永続的に侵害される可能性 |
| プロンプトインジェクション | 外部Webコンテンツに悪意あるXMLタグを埋め込み、エージェントが不正な指示を実行 |
| ユーザー確認バイパス | 最も制限的なモードでも確認なしに攻撃実行される可能性 |

### 推奨対策
- 信頼できるリポジトリのみを開く
- 不審な外部サイトへのアクセスを避ける
- Review-drivenモードで重要な操作を確認
- 機密データ・本番環境での使用は避ける

---

## 9. モデル選択

### 利用可能なモデル
| モデル | 特徴 |
|--------|------|
| Gemini 3 Pro | Google製、Antigravityに最適化（推奨） |
| Claude Sonnet 4.5 | Anthropic製、高品質な推論 |
| GPT-OSS | OpenAI製オープンウェイトモデル |

---

## 10. ベストプラクティス

1. **プロンプトは小分けに** - 大規模な指示より反復的改善アプローチが効果的
2. **フォルダを分ける** - タスクごとに別のワークスペースを作成
3. **計画を確認** - 大きな変更前にエージェントの計画をレビュー
4. **混ぜない** - 無関係なタスクを1つのプロンプトに含めない
5. **Planningモード活用** - 複雑なタスクは計画モードで実行

---

## 参考リンク

- [公式サイト](https://antigravity.google/)
- [Google Developers Blog](https://developers.googleblog.com/en/build-with-google-antigravity-our-new-agentic-development-platform/)
- [Google Codelabs](https://codelabs.developers.google.com/getting-started-google-antigravity)
- [Codecademy ガイド](https://www.codecademy.com/article/how-to-set-up-and-use-google-antigravity)
- [セキュリティ警告（InfoWorld）](https://www.infoworld.com/article/4097714/security-researchers-caution-app-developers-about-risks-in-using-google-antigravity-2.html)

---

## 講座構成案

| モジュール | タイトル | 内容 |
|-----------|---------|------|
| 01 | セットアップ | ✅ 作成済み |
| 02 | Chrome拡張機能とブラウザ操作 | 拡張機能設定、ブラウザ統合 |
| 03 | Agent Managerの使い方 | マルチエージェント、並列実行 |
| 04 | 実践：Webアプリ開発 | Next.jsアプリをエージェントで作成 |
| 05 | 実践：Web自動化 | スクレイピング、データ抽出 |
| 06 | ワークフローとルール | カスタマイズ、効率化 |
| 07 | セキュリティとベストプラクティス | 安全な使い方 |

---

## 画像アセット

配置済み: `public/antigravity/`
- ant1.png 〜 ant8.png（セットアップ編で使用）

追加で必要な画像:
- Chrome拡張機能のインストール画面
- Agent Managerのダッシュボード
- ブラウザ操作のデモ
- Artifacts表示画面
- マルチエージェント実行画面

---

**最終更新**: 2025-12-02
